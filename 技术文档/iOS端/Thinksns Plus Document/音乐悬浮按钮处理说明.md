2017年09月22日16:25:30

# 音乐悬浮按钮

当音乐进入播放中,会在窗口增加一个悬浮的播放中视图,该按钮的位置位于导航栏右侧.

音乐播放中,该按钮会自动旋转;音乐自动播放完毕后,按钮会停留一段时间后自动消失.音乐被主动关闭后,该按钮会立刻消失.

# 音乐悬浮按钮处理

当音乐悬浮按钮出现后,为了避免遮挡现有的按钮,因为历史遗留原因,提供了几种处理方式:

1. 导航栏push出的控制器继承自`TSViewController`,然后使用`TSViewController`拥有的到导航栏右侧按钮,
该按钮已经针对音乐播放状态进行了处理.
2. 导航栏使用`TSNavigationController`,
然后使用`TSNavigationController`拥有的`rightBarContentView`属性,该属性针对音乐播放进行了处理.

处理方式都是接受到音乐开始播放的通知后,将对应的控件右移动,留出一个空白区域显示音乐悬浮按钮.

**注意**尽量使用第二种处理方式,后续会删除第一种处理方式

# 注意


因为导航栏右侧按钮需要考虑显示音乐悬浮按钮的情况,故不允许出现包括音乐悬浮按钮在内的3个以上的导航栏右侧按钮.