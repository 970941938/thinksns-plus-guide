2017年03月02日10:38:33 编写中

为了增加了用户体验,用户在使用`TS+ `的过程中,大部分和服务器交互的重要操作(点赞,发布动态)都会立刻响应,在用户本机上显示出点击后立刻成功的状态.
在用户网络较差的情况下,使用本`TS+ `的过程中,会立刻显示旧的缓存过的数据体提供给用户阅览.

# 基本结构

UI层(UIViewController)
任务层(TSTaskQueue)
网络请求(TSNetwork)
数据库(TSDataBase)

## 操作逻辑

1. 用户操作的UI层,例如(点赞)
2. UI层通过任务层创建任务,例如(点赞任务)
3. 任务层将任务写入数据库,持久化该信息便于特殊情况下的再次操作
    A. 写入数据库后,通知UI层刷新,UI层依照数据库的数据显示任务成功的UI给用户.(例如:显示点赞成功动画,点赞数 +1)
    B. 任务层开启同步任务,同步任务交由网络请求处理,负责处理各种弱网环境,通过一定的重发逻辑将网络提交给服务器,完成同步任务.

## 显示旧数据逻辑

1. 用户开启UI层,(例如: 跳转到用户主页)
2. UI层,直接读取数据库旧数据给用户
    * 有旧数据,直接显示旧数据.
    * 无旧数据,显示等待动画,请求服务器,稍后显示新数据.
3. 用户刷新或者服务器返回新数据后,将数据写入数据库.
4. 当用户加载更多时,显示更早的数据,如果无网络,则显示数据库的旧数据.  
